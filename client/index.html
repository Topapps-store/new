<!-- Google Translate Widget -->
<div id="google_translate_element" style="display: none;"></div>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');

    autoTranslateIfNeeded();
  }

  function autoTranslateIfNeeded() {
    const lang = (navigator.language || navigator.userLanguage || 'en').split('-')[0].toLowerCase();
    if (lang === 'en') return;

    const tryTranslate = () => {
      const select = document.querySelector('.goog-te-combo');
      if (select && select.value !== lang) {
        select.value = lang;
        select.dispatchEvent(new Event('change'));
        return true;
      }
      return false;
    };

    let attempts = 0;
    const maxAttempts = 10;
    const interval = setInterval(() => {
      if (tryTranslate() || ++attempts >= maxAttempts) {
        clearInterval(interval);
      }
    }, 500);
  }

  window.addEventListener('load', () => {
    document.body.classList.add('notranslate');
  });
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<style>
  .goog-te-banner-frame,
  .goog-te-gadget,
  .goog-logo-link,
  .skiptranslate,
  #google_translate_element {
    display: none !important;
  }

  body {
    top: 0 !important;
  }
</style>
