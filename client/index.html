<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>TopApps.store - Download Popular Android Apps</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <style>
      .goog-te-banner-frame,
      .goog-te-gadget,
      .goog-logo-link,
      .skiptranslate,
      #google_translate_element {
        display: none !important;
      }
      body {
        top: 0 !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>

    <div id="google_translate_element" style="display: none;"></div>

    <script>
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: 'en',
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE
          },
          'google_translate_element'
        );

        autoTranslateIfNeeded();
      }

      function autoTranslateIfNeeded() {
        const lang = (navigator.language || 'en').split('-')[0].toLowerCase();
        if (lang === 'en') return;

        const maxAttempts = 10;
        let attempts = 0;

        const tryTranslate = () => {
          const select = document.querySelector('.goog-te-combo');
          if (select) {
            select.value = lang;
            select.dispatchEvent(new Event('change'));
            return true;
          }
          return false;
        };

        const interval = setInterval(() => {
          if (tryTranslate() || ++attempts >= maxAttempts) {
            clearInterval(interval);
          }
        }, 500);
      }
    </script>

    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  </body>
</html>
